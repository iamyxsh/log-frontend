{"version":3,"sources":["graphql/logsGql.js","graphql/userGql.js","components/shared/AddDialogue.jsx","components/HomePage/HomePage.jsx","constants/table.js","graphql/authGql.js","components/SignIn/SignIn.jsx","components/UserList/UserList.jsx","utils/PrivateRoute.jsx","utils/AdminRoute.jsx","components/Header/Header.jsx","MainRouter.js","App.js","constants/env.js","index.js"],"names":["GET_LOGS","gql","ADD_LOG","GET_USERS","CHANGE_ADMIN_STATUS","ADD_USER","AddDialogue","open","setOpen","type","reload","setReload","useState","number","setNumber","log","setLog","email","setEmail","password","setPassword","name","setName","isAdmin","setIsAdmin","error","setError","handleClose","useMutation","onCompleted","onError","err","graphQLErrors","extensions","exception","stacktrace","split","setTimeout","variables","toString","addLogs","update","_","result","console","addUser","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","style","color","DialogContent","Grid","container","spacing","item","xs","display","undefined","Alert","severity","TextField","value","onChange","e","target","label","fullWidth","length","FormControlLabel","control","Checkbox","checked","onClick","prev","rows","multiline","DialogActions","Button","autoFocus","useStyles","makeStyles","table","maxWidth","HomePage","classes","skip","setSkip","logs","setLogs","term","setTerm","useLazyQuery","data","fetchPolicy","limit","getLogs","useEffect","justify","alignItems","padding","TableContainer","component","Paper","Table","className","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","ind","comment","variant","backgroundColor","disabled","val","SIGN_IN","theme","paper","marginTop","flexDirection","avatar","margin","palette","secondary","main","form","width","submit","SignIn","history","useHistory","localStorage","setItem","JSON","stringify","loginUser","user","token","push","window","location","signin","loading","handleSignin","a","preventDefault","justifyItems","height","CircularProgress","Container","CssBaseline","Avatar","Typography","noValidate","required","id","autoComplete","num","comm","UserList","edit","setData","res","getUsers","updateAdmin","handleStatusChange","userId","PrivateRoute","Component","rest","getItem","render","props","to","AdminRoute","parse","root","flexGrow","menuButton","marginRight","title","Header","AppBar","position","Toolbar","IconButton","edge","removeItem","MainRouter","path","exact","httpLink","createHttpLink","uri","process","authLink","setContext","headers","Authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ReactDOM","ApolloProvider","document","getElementById"],"mappings":"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","file":"static/js/main.ebf901c6.chunk.js","sourcesContent":["import gql from \"graphql-tag\"\r\n\r\nexport const GET_LOGS = gql`\r\n\tquery getLogs($limit: Int!, $skip: Int!, $term: String) {\r\n\t\tgetLogs(limit: $limit, skip: $skip, term: $term) {\r\n\t\t\tid\r\n\t\t\tnumber\r\n\t\t\tcomment\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const ADD_LOG = gql`\r\n\tmutation createLog($number: String!, $log: String!) {\r\n\t\tcreateLog(createLogInput: { number: $number, comment: $log }) {\r\n\t\t\tid\r\n\t\t\tnumber\r\n\t\t\tcomment\r\n\t\t}\r\n\t}\r\n`\r\n","import gql from \"graphql-tag\"\r\n\r\nexport const GET_USERS = gql`\r\n\tquery getUsers($limit: Int!, $skip: Int!, $term: String) {\r\n\t\tgetUsers(limit: $limit, skip: $skip, term: $term) {\r\n\t\t\tid\r\n\t\t\temail\r\n\t\t\tname\r\n\t\t\tpassword\r\n\t\t\tcreatedAt\r\n\t\t\tisAdmin\r\n\t\t}\r\n\t}\r\n`\r\nexport const CHANGE_ADMIN_STATUS = gql`\r\n\tmutation updateAdminInfo($isAdmin: Boolean!, $userId: String!) {\r\n\t\tupdateAdminInfo(\r\n\t\t\tupdateAdminInfoInput: { isAdmin: $isAdmin, userId: $userId }\r\n\t\t) {\r\n\t\t\tisAdmin\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const EDIT_USER_PROFILE = gql`\r\n\tmutation updateAdminInfo($isAdmin: Boolean!, $userId: String!) {\r\n\t\tupdateAdminInfo(\r\n\t\t\tupdateAdminInfoInput: { isAdmin: $isAdmin, userId: $userId }\r\n\t\t) {\r\n\t\t\tisAdmin\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport const ADD_USER = gql`\r\n\tmutation createUser(\r\n\t\t$isAdmin: Boolean!\r\n\t\t$email: String!\r\n\t\t$password: String!\r\n\t\t$name: String!\r\n\t) {\r\n\t\tcreateUser(\r\n\t\t\tcreateUserInput: {\r\n\t\t\t\tisAdmin: $isAdmin\r\n\t\t\t\temail: $email\r\n\t\t\t\tpassword: $password\r\n\t\t\t\tname: $name\r\n\t\t\t}\r\n\t\t) {\r\n\t\t\tisAdmin\r\n\t\t}\r\n\t}\r\n`\r\n","import React, { useState } from \"react\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport Dialog from \"@material-ui/core/Dialog\"\r\nimport DialogActions from \"@material-ui/core/DialogActions\"\r\nimport DialogContent from \"@material-ui/core/DialogContent\"\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\r\nimport { TextField, Grid, FormControlLabel, Checkbox } from \"@material-ui/core\"\r\nimport { ADD_LOG } from \"../../graphql/logsGql\"\r\nimport { ADD_USER } from \"../../graphql/userGql\"\r\nimport { useMutation } from \"@apollo/client\"\r\nimport { Alert } from \"@material-ui/lab\"\r\n\r\nexport default function AddDialogue({\r\n\topen,\r\n\tsetOpen,\r\n\ttype,\r\n\treload,\r\n\tsetReload,\r\n}) {\r\n\tconst [number, setNumber] = useState(\"\")\r\n\tconst [log, setLog] = useState(\"\")\r\n\tconst [email, setEmail] = useState(\"\")\r\n\tconst [password, setPassword] = useState(\"\")\r\n\tconst [name, setName] = useState(\"\")\r\n\tconst [isAdmin, setIsAdmin] = useState(false)\r\n\tconst [error, setError] = useState(\"\")\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst [addLogs] = useMutation(ADD_LOG, {\r\n\t\tonCompleted() {\r\n\t\t\tsetOpen(false)\r\n\t\t\tsetReload(!reload)\r\n\t\t},\r\n\t\tonError(err) {\r\n\t\t\tsetError(\r\n\t\t\t\terr.graphQLErrors[0].extensions.exception.stacktrace[0].split(\":\")[2]\r\n\t\t\t)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError(\"\")\r\n\t\t\t}, [3000])\r\n\t\t},\r\n\t\tvariables: {\r\n\t\t\tnumber: number.toString(),\r\n\t\t\tlog,\r\n\t\t},\r\n\t})\r\n\r\n\tconst [addUser] = useMutation(ADD_USER, {\r\n\t\tupdate(_, result) {\r\n\t\t\tsetOpen(false)\r\n\t\t\tsetReload(!reload)\r\n\t\t},\r\n\t\tonError(err) {\r\n\t\t\tsetError(\r\n\t\t\t\terr.graphQLErrors[0].extensions.exception.stacktrace[0].split(\":\")[2]\r\n\t\t\t)\r\n\r\n\t\t\tconsole.log(err)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError(\"\")\r\n\t\t\t}, [3000])\r\n\t\t},\r\n\t\tvariables: {\r\n\t\t\temail,\r\n\t\t\tname,\r\n\t\t\tpassword,\r\n\t\t\tisAdmin,\r\n\t\t},\r\n\t})\r\n\r\n\tconst handleAdd = () => {\r\n\t\tif (type !== \"user\") addLogs()\r\n\t\tif (type === \"user\") {\r\n\t\t\taddUser()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\topen={open}\r\n\t\t\tonClose={handleClose}\r\n\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\taria-describedby=\"alert-dialog-description\"\r\n\t\t>\r\n\t\t\t<DialogTitle style={{ color: \"blue\" }}>ADD</DialogTitle>\r\n\t\t\t{type === \"user\" ? (\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} style={{ display: !error ? \"none\" : undefined }}>\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">{error}</Alert>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\terror={name.length < 5 || name.length > 20}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\terror={email.length < 5 || email.length > 20}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={password.length < 5 || password.length > 20}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setIsAdmin((prev) => !prev)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel=\"Admin\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t) : (\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} style={{ display: !error ? \"none\" : undefined }}>\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">{error}</Alert>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={number}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\r\n\t\t\t\t\t\t\t\tlabel=\"Number\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={log}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setLog(e.target.value)}\r\n\t\t\t\t\t\t\t\tlabel=\"Log\"\r\n\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item style={{ color: \"grey\" }}>\r\n\t\t\t\t\t\t\t{log.length}/160\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t)}\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button onClick={handleClose} color=\"primary\">\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button onClick={handleAdd} color=\"primary\" autoFocus>\r\n\t\t\t\t\tAdd\r\n\t\t\t\t</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Table from \"@material-ui/core/Table\"\r\nimport TableBody from \"@material-ui/core/TableBody\"\r\nimport TableCell from \"@material-ui/core/TableCell\"\r\nimport TableContainer from \"@material-ui/core/TableContainer\"\r\nimport TableHead from \"@material-ui/core/TableHead\"\r\nimport TableRow from \"@material-ui/core/TableRow\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport { Button, CircularProgress, Grid, TextField } from \"@material-ui/core\"\r\nimport { useLazyQuery, useQuery } from \"@apollo/client\"\r\nimport { GET_LOGS } from \"../../graphql/logsGql\"\r\nimport { LIMIT } from \"../../constants/table\"\r\nimport AddDialogue from \"../shared/AddDialogue\"\r\n\r\nconst useStyles = makeStyles({\r\n\ttable: {\r\n\t\tmaxWidth: \"98vw\",\r\n\t},\r\n})\r\n\r\nexport default function HomePage() {\r\n\tconst classes = useStyles()\r\n\r\n\tconst [skip, setSkip] = useState(0)\r\n\tconst [logs, setLogs] = useState()\r\n\tconst [term, setTerm] = useState(\"\")\r\n\tconst [open, setOpen] = useState(false)\r\n\tconst [reload, setReload] = useState(false)\r\n\r\n\tconst [getLogs] = useLazyQuery(GET_LOGS, {\r\n\t\tonError(err) {\r\n\t\t\tconsole.log(err)\r\n\t\t},\r\n\t\tonCompleted(data) {\r\n\t\t\tsetLogs(data)\r\n\t\t},\r\n\t\tfetchPolicy: \"network-only\",\r\n\t\tvariables: {\r\n\t\t\tlimit: LIMIT,\r\n\t\t\tskip,\r\n\t\t\tterm,\r\n\t\t},\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tgetLogs()\r\n\t}, [reload])\r\n\r\n\t// if (loading) {\r\n\t// \treturn (\r\n\t// \t\t<div\r\n\t// \t\t\tstyle={{\r\n\t// \t\t\t\tdisplay: \"flex\",\r\n\t// \t\t\t\tjustifyItems: \"center\",\r\n\t// \t\t\t\talignItems: \"center\",\r\n\t// \t\t\t\twidth: \"100vw\",\r\n\t// \t\t\t\theight: \"100vh\",\r\n\t// \t\t\t}}\r\n\t// \t\t>\r\n\t// \t\t\t<CircularProgress />\r\n\t// \t\t</div>\r\n\t// \t)\r\n\t// }\r\n\r\n\tconsole.log(logs)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{logs && logs.getLogs.length > 0 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tstyle={{ padding: \"2rem\" }}\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={term}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setTerm(e.target.value)}\r\n\t\t\t\t\t\t\t\tlabel=\"Search by Number\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Number</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Logs</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{logs.getLogs.map((log, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{log.number}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{log.comment}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item container justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => setSkip(0)}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: \"#FFFF00\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tFirst\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => setSkip((prev) => prev - 1)}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={skip === 0 ? true : false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPrevious\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={logs.getLogs.length < 10 ? true : false}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => setOpen(true)}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<AddDialogue\r\n\t\t\t\treload={reload}\r\n\t\t\t\tsetReload={(val) => setReload(val)}\r\n\t\t\t\topen={open}\r\n\t\t\t\tsetOpen={(val) => setOpen(val)}\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n","export const logHeaders = [\"Number\", \"Log\"]\r\n\r\nexport const LIMIT = 10\r\n","import gql from \"graphql-tag\"\r\n\r\nexport const SIGN_IN = gql`\r\n\tmutation signin($email: String!, $password: String!) {\r\n\t\tloginUser(loginUserInput: { email: $email, password: $password }) {\r\n\t\t\tuser {\r\n\t\t\t\tname\r\n\t\t\t\temail\r\n\t\t\t\tisAdmin\r\n\t\t\t}\r\n\t\t\ttoken\r\n\t\t}\r\n\t}\r\n`\r\n","import React, { useState } from \"react\"\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Container from \"@material-ui/core/Container\"\r\nimport { Alert } from \"@material-ui/lab\"\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\r\n\r\nimport { useMutation } from \"@apollo/client\"\r\nimport { SIGN_IN } from \"../../graphql/authGql\"\r\nimport { useHistory } from \"react-router\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: \"100%\",\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}))\r\n\r\nexport default function SignIn() {\r\n\tconst classes = useStyles()\r\n\tconst history = useHistory()\r\n\tconst [email, setEmail] = useState(\"\")\r\n\tconst [password, setPassword] = useState(\"\")\r\n\tconst [error, setError] = useState(\"\")\r\n\r\n\tconst [signin, { loading }] = useMutation(SIGN_IN, {\r\n\t\tupdate(_, result) {\r\n\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(result.data.loginUser.user))\r\n\t\t\tlocalStorage.setItem(\"token\", result.data.loginUser.token)\r\n\r\n\t\t\thistory.push(\"/home\")\r\n\t\t\twindow.location.reload()\r\n\t\t},\r\n\t\tonError(err) {\r\n\t\t\tsetError(\r\n\t\t\t\terr.graphQLErrors[0].extensions.exception.stacktrace[0].split(\":\")[2]\r\n\t\t\t)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError(\"\")\r\n\t\t\t}, [3000])\r\n\t\t},\r\n\t\tvariables: {\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t},\r\n\t})\r\n\r\n\tconst handleSignin = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tsignin()\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tjustifyItems: \"center\",\r\n\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\twidth: \"100vw\",\r\n\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<CircularProgress />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\tSign in\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tseverity=\"error\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: !error ? \"none\" : undefined,\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\tmargin: \"1rem 0\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Alert>\r\n\t\t\t\t<form className={classes.form} noValidate>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\tonClick={(e) => handleSignin(e)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Table from \"@material-ui/core/Table\"\r\nimport TableBody from \"@material-ui/core/TableBody\"\r\nimport TableCell from \"@material-ui/core/TableCell\"\r\nimport TableContainer from \"@material-ui/core/TableContainer\"\r\nimport TableHead from \"@material-ui/core/TableHead\"\r\nimport TableRow from \"@material-ui/core/TableRow\"\r\nimport { Paper, FormControlLabel, Checkbox } from \"@material-ui/core\"\r\nimport { Button, Grid, TextField } from \"@material-ui/core\"\r\nimport { useLazyQuery, useMutation } from \"@apollo/client\"\r\n// import { Edit, SaveAlt } from \"@material-ui/icons\"\r\n\r\nimport { LIMIT } from \"../../constants/table\"\r\nimport { CHANGE_ADMIN_STATUS, GET_USERS } from \"../../graphql/userGql\"\r\nimport AddDialogue from \"../shared/AddDialogue\"\r\n\r\nconst useStyles = makeStyles({\r\n\ttable: {\r\n\t\tmaxWidth: \"98vw\",\r\n\t},\r\n\tnum: {\r\n\t\twidth: \"30vw\",\r\n\t},\r\n\tcomm: {\r\n\t\twidth: \"70vw\",\r\n\t},\r\n})\r\n\r\nexport default function UserList() {\r\n\tconst classes = useStyles()\r\n\r\n\tconst [skip, setSkip] = useState(0)\r\n\tconst [name, setName] = useState(\"\")\r\n\tconst [email, setEmail] = useState(\"\")\r\n\tconst [password, setPassword] = useState(\"\")\r\n\tconst [edit, setEdit] = useState(null)\r\n\tconst [term, setTerm] = useState(\"\")\r\n\tconst [reload, setReload] = useState(false)\r\n\tconst [data, setData] = useState([])\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst [getUsers] = useLazyQuery(GET_USERS, {\r\n\t\tvariables: {\r\n\t\t\tlimit: LIMIT,\r\n\t\t\tskip: skip,\r\n\t\t\tterm,\r\n\t\t},\r\n\t\tonCompleted(res) {\r\n\t\t\tconsole.log(res)\r\n\t\t\tsetData(res.getUsers)\r\n\t\t},\r\n\t\tfetchPolicy: \"network-only\",\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tgetUsers()\r\n\t}, [reload, getUsers])\r\n\r\n\tconst [updateAdmin] = useMutation(CHANGE_ADMIN_STATUS, {\r\n\t\tonCompleted() {\r\n\t\t\tsetReload((prev) => !prev)\r\n\t\t},\r\n\t})\r\n\r\n\tconst handleStatusChange = async (userId, isAdmin) => {\r\n\t\tupdateAdmin({ variables: { isAdmin, userId } })\r\n\t}\r\n\r\n\t// const handleEdit = async (userId) => {\r\n\t// \tsetEdit(null)\r\n\t// }\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{data.length > 0 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tstyle={{ padding: \"2rem\" }}\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={term}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setTerm(e.target.value)}\r\n\t\t\t\t\t\t\t\tlabel=\"Search by email\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Name</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Email</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Password</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Admin</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{data.map((log, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{edit !== ind ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{edit !== ind ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.password\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{edit !== ind ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog.email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={log.isAdmin}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleStatusChange(log.id, !log.isAdmin)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{edit !== ind ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit onClick={() => setEdit(ind)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SaveAlt onClick={() => handleEdit(log.id)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item container justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: \"#FFFF00\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => setSkip(0)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tFirst\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => setSkip((prev) => prev - 1)}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={skip === 0 ? true : false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPrevious\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={2}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={data.length < LIMIT ? true : false}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setSkip((prev) => prev + 1)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => setOpen(true)}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<AddDialogue\r\n\t\t\t\treload={reload}\r\n\t\t\t\tsetReload={(val) => setReload(val)}\r\n\t\t\t\topen={open}\r\n\t\t\t\tsetOpen={(val) => setOpen(val)}\r\n\t\t\t\ttype=\"user\"\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst token = localStorage.getItem(\"token\")\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\ttoken ? <Component {...props} /> : <Redirect to=\"/\" />\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n\tconst user = localStorage.getItem(\"user\")\r\n\t\t? JSON.parse(localStorage.getItem(\"user\"))\r\n\t\t: {}\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tuser.isAdmin ? <Component {...props} /> : <Redirect to=\"/\" />\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdminRoute\r\n","import React from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport AppBar from \"@material-ui/core/AppBar\"\r\nimport Toolbar from \"@material-ui/core/Toolbar\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport MenuIcon from \"@material-ui/icons/Menu\"\r\nimport { useHistory } from \"react-router\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitle: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n}))\r\n\r\nexport default function Header() {\r\n\tconst classes = useStyles()\r\n\tconst history = useHistory()\r\n\r\n\tconst token = localStorage.getItem(\"token\")\r\n\tconst user = localStorage.getItem(\"user\")\r\n\t\t? JSON.parse(localStorage.getItem(\"user\"))\r\n\t\t: {}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"menu\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t\t\t\tLogs\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{ display: token ? \"inline-block\" : \"none\" }}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tonClick={() => history.push(\"/home\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogs Page\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{ display: user.isAdmin ? \"inline-block\" : \"none\" }}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tonClick={() => history.push(\"/admin/users\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAdmin Panel\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{ display: !token ? \"none\" : undefined }}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\")\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"user\")\r\n\t\t\t\t\t\t\thistory.push(\"/\")\r\n\t\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\"\r\nimport HomePage from \"./components/HomePage/HomePage\"\r\nimport SignIn from \"./components/SignIn/SignIn\"\r\nimport UserList from \"./components/UserList/UserList\"\r\nimport PrivateRoute from \"./utils/PrivateRoute\"\r\nimport AdminRoute from \"./utils/AdminRoute\"\r\nimport Header from \"./components/Header/Header\"\r\n\r\nconst MainRouter = () => {\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Header />\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path=\"/\" exact component={SignIn} />\r\n\t\t\t\t<PrivateRoute path=\"/home\" exact component={HomePage} />\r\n\t\t\t\t<AdminRoute path=\"/admin/users\" exact component={UserList} />\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t)\r\n}\r\n\r\nexport default MainRouter\r\n","// import {  } from \"apollo-cache-inmemory\"\n// import { createHttpLink } from \"apollo-link-http\"\nimport { GRAPHQL_URI } from \"./constants/env\"\nimport {\n\tApolloClient,\n\tApolloProvider,\n\tInMemoryCache,\n\tcreateHttpLink,\n} from \"@apollo/client\"\nimport { setContext } from \"apollo-link-context\"\n\nimport MainRouter from \"./MainRouter\"\n\nconst httpLink = createHttpLink({\n\turi: GRAPHQL_URI,\n})\n\nconst authLink = setContext(() => {\n\tconst token = localStorage.getItem(\"token\")\n\n\treturn {\n\t\theaders: {\n\t\t\tAuthorization: token ? `Bearer ${token}` : \"\",\n\t\t},\n\t}\n})\n\nconst client = new ApolloClient({\n\tlink: authLink.concat(httpLink),\n\tcache: new InMemoryCache(),\n})\n\nconst App = () => {\n\treturn <MainRouter />\n}\n\nexport default (\n\t<ApolloProvider client={client}>\n\t\t<App />\n\t</ApolloProvider>\n)\n","export const GRAPHQL_URI = process.env.REACT_APP_GRAPHQL_URI\r\n","import ReactDOM from \"react-dom\"\nimport \"./index.css\"\n\nimport ApolloProvider from \"./App\"\n\nReactDOM.render(ApolloProvider, document.getElementById(\"root\"))\n"],"sourceRoot":""}